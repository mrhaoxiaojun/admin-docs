import{_ as s,c as a,o as t,a as p}from"./app.705411ad.js";var e="/admin-docs/assets/menuul.b4054540.jpg",n="/admin-docs/assets/nested.d556554b.png",o="/admin-docs/assets/ydd.5f6903cb.png",c="/admin-docs/assets/crumbs.8c821533.png",l="/admin-docs/assets/breadCrumbs.de8ed594.jpg";const f='{"title":"\u8DEF\u7531\u548C\u4FA7\u8FB9\u680F","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u8DEF\u7531\u914D\u7F6E\u9879","slug":"\u8DEF\u7531\u914D\u7F6E\u9879"},{"level":2,"title":"\u8DEF\u7531\u6A21\u5F0F","slug":"\u8DEF\u7531\u6A21\u5F0F"},{"level":2,"title":"\u4FA7\u8FB9\u680F","slug":"\u4FA7\u8FB9\u680F"},{"level":2,"title":"","slug":""},{"level":2,"title":"\u70B9\u51FB\u4FA7\u8FB9\u680F \u5237\u65B0\u5F53\u524D\u8DEF\u7531","slug":"\u70B9\u51FB\u4FA7\u8FB9\u680F-\u5237\u65B0\u5F53\u524D\u8DEF\u7531"},{"level":2,"title":"\u9762\u5305\u5C51\uFF08\u5FEB\u6377\u5BFC\u822A\u680F\uFF09","slug":"\u9762\u5305\u5C51\uFF08\u5FEB\u6377\u5BFC\u822A\u680F\uFF09"},{"level":2,"title":"\u4FA7\u8FB9\u680F\u6EDA\u52A8\u95EE\u9898","slug":"\u4FA7\u8FB9\u680F\u6EDA\u52A8\u95EE\u9898"},{"level":2,"title":"\u4FA7\u8FB9\u680F\u9ED8\u8BA4\u5C55\u5F00","slug":"\u4FA7\u8FB9\u680F\u9ED8\u8BA4\u5C55\u5F00"}],"relativePath":"doc/base/router-and-nav.md"}',r={},u=p(`<h1 id="\u8DEF\u7531\u548C\u4FA7\u8FB9\u680F" tabindex="-1">\u8DEF\u7531\u548C\u4FA7\u8FB9\u680F <a class="header-anchor" href="#\u8DEF\u7531\u548C\u4FA7\u8FB9\u680F" aria-hidden="true">#</a></h1><p>\u8DEF\u7531\u548C\u4FA7\u8FB9\u680F\u662F\u7EC4\u7EC7\u8D77\u4E00\u4E2A\u540E\u53F0\u5E94\u7528\u7684\u5173\u952E\u9AA8\u67B6\u3002</p><p>\u672C\u9879\u76EE\u89E3\u51B3\u4E86\u4FA7\u8FB9\u83DC\u5355\u8FC7\u591A\u6240\u5E26\u6765\u7684\u75DB\u70B9\u3002\u5176\u4ED6\u6846\u67B6\u7684\u75DB\u70B9\u95EE\u9898\uFF1A\u83DC\u5355\u8FC7\u591A\u5BFC\u81F4\u7684\u5C55\u793A\u4E0D\u5168\u9700\u8981\u6765\u56DE\u6EDA\u52A8\u3001\u591A\u79CD\u83DC\u5355\u65E0\u6CD5\u5206\u7C7B\u5C55\u793A\u3001\u9700\u8981\u9876\u90E8\u680F\u76EE\u7684\u7CFB\u7EDF\u65E0\u6CD5\u5B9E\u73B0\u3002\u672C\u6846\u67B6\u89E3\u51B3\u65B9\u5F0F\uFF1A\u5728header\u4F4D\u7F6E\u6DFB\u52A0\u680F\u76EE\u5217\u8868\uFF0C\u5404\u4E2A\u680F\u76EE\u4E0B\u7684\u5B50\u96C6\u4E3A\u4FA7\u8FB9\u83DC\u5355\uFF0C\u5207\u6362\u680F\u76EE\u4FA7\u8FB9\u83DC\u5355\u8054\u52A8\u5207\u6362\u3002</p><p>\u8DEF\u7531\u91C7\u7528\u9759\u6001\u8DEF\u7531\u52A0\u52A8\u6001\u8DEF\u7531\u7684\u65B9\u6848\uFF0C\u4F7F\u5F97\u8DEF\u7531\u6570\u636E\u524D\u540E\u5206\u79BB\u540E\u7AEF\u9274\u6743\u66F4\u52A0\u5BB9\u6613\u3002\u9759\u6001\u8DEF\u7531\u5B58\u653E\u672C\u5730\u65E0\u9700\u9274\u6743\uFF08\u4F8B\u5982404\u9875\u9762\u3001\u767B\u9646\u9875\u9762\uFF09\uFF0C\u52A8\u6001\u8DEF\u7531\u901A\u8FC7\u63A5\u53E3\u83B7\u53D6\u5E76\u6DFB\u52A0\u3002</p><div class="tip custom-block"><p class="custom-block-title">\u4E0D\u9700\u8981\u52A8\u6001\u8DEF\u7531</p><p>\u5982\u679C\u4E0D\u9700\u8981\u52A8\u6001\u8DEF\u7531\uFF0C\u5173\u95ED\u6743\u9650\u8FC7\u6EE4\u529F\u80FD\uFF0C\u5168\u5C40\u914D\u7F6EfilterMenu\u8BBE\u7F6E\u4E3Afalse\uFF0C\u81EA\u884C\u7EF4\u62A4<code>router/static.router.ts</code>\u6587\u4EF6</p></div><h2 id="\u8DEF\u7531\u914D\u7F6E\u9879" tabindex="-1">\u8DEF\u7531\u914D\u7F6E\u9879 <a class="header-anchor" href="#\u8DEF\u7531\u914D\u7F6E\u9879" aria-hidden="true">#</a></h2><p>\u9996\u5148\u6211\u4EEC\u4E86\u89E3\u4E00\u4E0B\u672C\u9879\u76EE\u914D\u7F6E\u8DEF\u7531\u65F6\u63D0\u4F9B\u4E86\u54EA\u4E9B\u914D\u7F6E\u9879\u3002</p><div class="language-ts"><pre><code><span class="token keyword">interface</span> <span class="token class-name">RouterObj</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u83DC\u5355id</span>
  id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  <span class="token comment">// \u8DEF\u7531\u5730\u5740</span>
  path<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token comment">// \u83DC\u5355\u540D\u79F0</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token comment">// \u76F8\u5BF9\u4E8Eviews\u6587\u4EF6\u5939\u7684\u6A21\u677F\u6587\u4EF6\u7684\u76F8\u5BF9\u4F4D\u7F6E</span>
  component<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token comment">// \u8DEF\u7531\u540D\u79F0</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token comment">// \u91CD\u5B9A\u5411\u5730\u5740</span>
  redirect<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token comment">// \u83DC\u5355\u56FE\u6807</span>
  icon<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token comment">// \u83DC\u5355\u5B50\u96C6\uFF0C\u9875\u9762\u7EA7\u65E0\u9700\u914D\u7F6E</span>
  children<span class="token operator">?</span><span class="token operator">:</span> RouterObj<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// \u7236\u7EA7id</span>
  pid<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  <span class="token comment">// \u662F\u5426\u9690\u85CF\u9875\u9762/\u83DC\u5355\uFF0C\u9ED8\u8BA4false\u4E0D\u9690\u85CF</span>
  hidden<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
  <span class="token comment">// \u662F\u5426\u7F13\u5B58\u9875\u9762\uFF0C\u9ED8\u8BA4false\u4E0D\u7F13\u5B58</span>
  keepAlive<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>

</code></pre></div><p>\u6846\u67B6\u8DEF\u7531\u914D\u7F6E\u9879\u4E0Evue-router\u914D\u7F6E\u7684\u5BF9\u5E94\u5173\u7CFB</p><table><thead><tr><th>\u6846\u67B6\u8DEF\u7531\u914D\u7F6E\u9879</th><th>vue-router\u914D\u7F6E\u9879</th><th>\u6CE8\u91CA</th></tr></thead><tbody><tr><td>id</td><td><a href="http://meta.id" target="_blank" rel="noopener noreferrer">meta.id</a></td><td>\u8DEF\u7531\u5143\u4FE1\u606F</td></tr><tr><td>path</td><td>path</td><td>\u8DEF\u7531\u5730\u5740</td></tr><tr><td>name</td><td>meta.title</td><td>\u8DEF\u7531\u5143\u4FE1\u606F</td></tr><tr><td>component</td><td>component</td><td>\u6A21\u677F\u6587\u4EF6\u4F4D\u7F6E</td></tr><tr><td>key</td><td>name</td><td>\u8DEF\u7531\u540D\u79F0\uFF08\u9700\u552F\u4E00\uFF09</td></tr><tr><td>redirect</td><td>redirect</td><td>\u91CD\u5B9A\u5411</td></tr><tr><td>icon</td><td>\u65E0</td><td>\u6846\u67B6\u7279\u6709</td></tr><tr><td>children</td><td>children</td><td>\u8DEF\u7531\u5B50\u96C6</td></tr><tr><td>pid</td><td>\u65E0</td><td>\u6846\u67B6\u7279\u6709</td></tr><tr><td>hidden</td><td>meta.hidden</td><td>\u8DEF\u7531\u5143\u4FE1\u606F</td></tr><tr><td>keepAlive</td><td>meta.keepAlive</td><td>\u8DEF\u7531\u5143\u4FE1\u606F</td></tr></tbody></table><p><strong>\u793A\u4F8B</strong></p><p>\u540E\u7AEF\u8FD4\u56DE\u793A\u610F\uFF1A</p><div class="language-ts"><pre><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> 
    id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    pid<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&#39;\u57FA\u7840\u6A21\u677F&#39;</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
    redirect<span class="token operator">:</span> <span class="token string">&#39;/element/icon&#39;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> <span class="token string">&#39;BasicLayout&#39;</span><span class="token punctuation">,</span>
    icon<span class="token operator">:</span> <span class="token string">&#39;AppleOutlined&#39;</span><span class="token punctuation">,</span>
    key<span class="token operator">:</span> <span class="token string">&#39;layout&#39;</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        pid<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">&#39;\u597D\u7528\u7EC4\u4EF6&#39;</span><span class="token punctuation">,</span>
        path<span class="token operator">:</span> <span class="token string">&#39;/element&#39;</span><span class="token punctuation">,</span>
        redirect<span class="token operator">:</span> <span class="token string">&#39;/element/icon&#39;</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> <span class="token string">&#39;RouteView&#39;</span><span class="token punctuation">,</span>
        icon<span class="token operator">:</span> <span class="token string">&#39;ChromeOutlined&#39;</span><span class="token punctuation">,</span>
        key<span class="token operator">:</span> <span class="token string">&#39;element&#39;</span><span class="token punctuation">,</span>
        children<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            id<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            pid<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">&#39;\u56FE\u6807\u7EC4\u4EF6&#39;</span><span class="token punctuation">,</span>
            path<span class="token operator">:</span> <span class="token string">&#39;/element/icon&#39;</span><span class="token punctuation">,</span>
            redirect<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
            component<span class="token operator">:</span> <span class="token string">&#39;/element/icon&#39;</span><span class="token punctuation">,</span>
            icon<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
            key<span class="token operator">:</span> <span class="token string">&#39;el_icon&#39;</span><span class="token punctuation">,</span>
            keepAlive<span class="token operator">:</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            id<span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
            pid<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">&#39;\u8868\u683C\u7EC4\u4EF6&#39;</span><span class="token punctuation">,</span>
            path<span class="token operator">:</span> <span class="token string">&#39;/element/table&#39;</span><span class="token punctuation">,</span>
            redirect<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
            component<span class="token operator">:</span> <span class="token string">&#39;/element/table&#39;</span><span class="token punctuation">,</span>
            icon<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
            key<span class="token operator">:</span> <span class="token string">&#39;el_table&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            id<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
            pid<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">&#39;\u8BE6\u60C5&#39;</span><span class="token punctuation">,</span>
            path<span class="token operator">:</span> <span class="token string">&#39;/element/detail&#39;</span><span class="token punctuation">,</span>
            redirect<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
            component<span class="token operator">:</span> <span class="token string">&#39;/element/detail&#39;</span><span class="token punctuation">,</span>
            icon<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
            key<span class="token operator">:</span> <span class="token string">&#39;detail&#39;</span><span class="token punctuation">,</span>
            hidden<span class="token operator">:</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre></div><h2 id="\u8DEF\u7531\u6A21\u5F0F" tabindex="-1">\u8DEF\u7531\u6A21\u5F0F <a class="header-anchor" href="#\u8DEF\u7531\u6A21\u5F0F" aria-hidden="true">#</a></h2><p>\u8FD9\u91CC\u7684\u8DEF\u7531\u5206\u4E3A\u4E24\u79CD\uFF0C<code>constantRoutes</code>\xA0\u548C\xA0<code>asyncRoutes</code>\u3002</p><p>constantRoutes\uFF1A\u4EE3\u8868\u90A3\u4E9B\u4E0D\u9700\u8981\u52A8\u6001\u5224\u65AD\u6743\u9650\u4E14\u914D\u7F6E\u5728\u672C\u5730\u7684\u8DEF\u7531\uFF0C\u5982\u767B\u5F55\u9875\u3001404\u3001\u7B49\u901A\u7528\u9875\u9762\u3002</p><p>asyncRoutes\uFF1A\u4EE3\u8868\u90A3\u4E9B\u540E\u7AEF\u8FD4\u56DE\u9700\u8981\u52A8\u6001\u5224\u65AD\u6743\u9650\u5E76\u901A\u8FC7 addRoute \u6DFB\u52A0\u7684\u9875\u9762\u3002</p><p>\u4E0A\u8FB9\u8DEF\u7531\u914D\u7F6E\u9879\u914D\u7F6E\u7684\u662F\u52A8\u6001\u8DEF\u7531\uFF0C\u9759\u6001\u8DEF\u7531\u53EA\u9700\u5728\u672C\u5730\u6309\u7167vue-router\u683C\u5F0F\u914D\u7F6E (src/router/basics.router.ts)\u5373\u53EF</p><div class="tip custom-block"><p class="custom-block-title">\u63D0\u793A</p><p>\u8FD9\u91CC\u6240\u6709\u7684\u8DEF\u7531\u9875\u9762\u90FD\u4F7F\u7528 \u8DEF\u7531\u61D2\u52A0\u8F7D \u4E86 \uFF0C\u5177\u4F53\u4ECB\u7ECD\u89C1<a href="https://next.router.vuejs.org/zh/guide/advanced/lazy-loading.html" target="_blank" rel="noopener noreferrer">\u6587\u6863</a></p></div><div class="warning custom-block"><p class="custom-block-title">\u6CE8\u610F\u4E8B\u9879</p><p>\u8FD9\u91CC\u6709\u4E00\u4E2A\u9700\u8981\u975E\u5E38\u6CE8\u610F\u7684\u5730\u65B9\u5C31\u662F 404 \u9875\u9762\u4E00\u5B9A\u8981\u6700\u540E\u52A0\u8F7D\uFF0C\u9700\u8981\u5728 addRoute \u6DFB\u52A0\u5B8C\u540E\u7AEF\u8DEF\u7531\u540E\u6DFB\u52A0\u901A\u914D\u7B26404\uFF0C\u5982\u679C\u63D0\u524D\u914D\u7F6E\u4F1A\u5BFC\u81F4\u52A8\u6001\u8DEF\u7531\u88AB\u62E6\u51FB\u5230404\u9875\u9762\u3002(src/router/permission.ts)</p></div><h2 id="\u4FA7\u8FB9\u680F" tabindex="-1">\u4FA7\u8FB9\u680F <a class="header-anchor" href="#\u4FA7\u8FB9\u680F" aria-hidden="true">#</a></h2><p>\u672C\u9879\u76EE\u4FA7\u8FB9\u680F\u4E3B\u8981\u57FA\u4E8E ant-design \u7684 a-menu \u6539\u9020\u3002</p><p>\u4FA7\u8FB9\u680F\u662F\u901A\u8FC7\u540E\u7AEF\u63A5\u53E3\u8FD4\u56DE\u7684\u8DEF\u7531\u6570\u7EC4\u751F\u6210\u7684\uFF0C\u652F\u6301\u8DEF\u7531\u65E0\u9650\u5D4C\u5957\uFF0C\u8DEF\u5F84\u3001\u680F\u76EE\u3001\u83DC\u5355\u76F8\u4E92\u8054\u52A8\uFF0C\u4FA7\u8FB9\u680F\u663E\u793A\u7684\u83DC\u5355\u4E3A\u5F53\u524D\u680F\u76EE\u7684\u53EF\u89C6\u83DC\u5355\u3002\u767B\u9646\u540E\u9ED8\u8BA4\u8DF3\u8F6C\u5730\u5740&quot;/&quot;\uFF0C\u8FD9\u4E5F\u8981\u6C42\u4F60\u5FC5\u987B\u4FDD\u8BC1\u5B9A\u4E49\u8DEF\u7ECF\u4E3A&quot;/&quot;\u7684\u8DEF\u7531\uFF0C\u5F53\u7136\u4F60\u53EF\u4EE5\u4FEE\u6539\u8FD9\u4E2A\u5730\u5740\u3002</p><div class="tip custom-block"><p class="custom-block-title">\u63D0\u793A</p><p>\u4FEE\u6539\u767B\u9646\u540E\u9ED8\u8BA4\u8DF3\u8F6C\u5730\u5740\uFF0C\u53EA\u9700\u8981\u66FF\u6362login.vue (src/views/login)\u4E2D\u7684&#39;/&#39;\u90E8\u5206\uFF0880\u884C\u9644\u8FD1\uFF09</p></div><p>\u5728\u540E\u53F0\u8FD4\u56DE\u8DEF\u7531\u7EC4\u7684\u65F6\u5019\u4F1A\u5728vuex\u5B58\u5165 state.user.routers \uFF0C\u8FD9\u91CC\u7F13\u5B58\u4E86\u6574\u4F53\u8DEF\u7531\u5217\u8868\uFF0C\u5728header\u680F\u76EE\u751F\u6210\u65F6\u8C03\u53D6\u8BE5\u7F13\u5B58\u6570\u636E\uFF0C\u53D6 state.user.routers index = 0\u7684\u5C42\u7EA7\u4E3A\u680F\u76EE\u3002</p><p>\u6240\u9009\u680F\u76EE\u7684\u4E0B\u5C5E\u5B50\u8DEF\u7531\u5B58\u5165 state.menu.menuRouter , \u8FD9\u91CC\u7F13\u5B58\u4E86\u4FA7\u8FB9\u680F\u8DEF\u7531\u5217\u8868\uFF0C\u5E76\u4E14\u6839\u636E\u7528\u6237\u9009\u62E9\u7684\u4E0D\u7528\u680F\u76EE\u5B9E\u65F6\u66F4\u65B0\u3002\u4FA7\u8FB9\u680F\u5FAA\u73AF state.menu.menuRouter \uFF0C\u6BCF\u4E00\u9879\u5B9A\u4E49\u4E3Aitem\uFF0C item\u542B\u6709children\u4E3A\u83DC\u5355\uFF0C\u4E0D\u542B\u6709\u7684\u4E3A\u9875\u9762\u3002</p><p><strong>\u4FA7\u8FB9\u680F\u903B\u8F91\u56FE</strong></p><p><a href="../imgs/menuul.jpg"><img src="`+e+`" alt=""></a></p><p>\u4ED4\u7EC6\u9605\u8BFB\u4E0A\u56FE\u5E76\u67E5\u770B\u6E90\u7801\uFF0C\u4F60\u4F1A\u5F88\u5FEB\u68B3\u7406\u901A\u987A\u8FD9\u90E8\u5206\u7684\u903B\u8F91\uFF0C\u6839\u636E\u8DEF\u7531\u5730\u5740\u8FDB\u884C\u7684\u83DC\u5355\u4E0Etab\u7684\u8054\u52A8\u4E5F\u662F\u5728\u6B64\u57FA\u7840\u4E4B\u4E0A\u5F00\u53D1\u7684\uFF0C\u5982\u679C\u4F60\u5BF9\u8FD9\u90E8\u5206\u611F\u5174\u8DA3\u53EF\u4EE5\u7EE7\u7EED\u6DF1\u5165\u4E86\u89E3(src/layout)\u90E8\u5206\u7684\u6E90\u4EE3\u7801\u3002\u5728\u4FA7\u8FB9\u680F\u90E8\u5206\u4F60\u53EA\u9700\u8981\u4E86\u89E3\u5373\u53EF\uFF0C\u56E0\u4E3A\u8FD9\u90E8\u5206\u5185\u5BB9\u5E76\u4E0D\u4F1A\u5F71\u54CD\u5230\u4F60\u7684\u4F7F\u7528\uFF0C\u9664\u975E\u4F60\u60F3DIY\u67D0\u4E9B\u4E1C\u897F\u3002</p><div class="tip custom-block"><p class="custom-block-title">\u63D0\u793A</p><p>\u4FA7\u8FB9\u680F\u83DC\u5355\u7684\u6253\u5F00\u4E0E\u5173\u95ED\u662F<a href="https://2x.antdv.com/components/menu-cn#API" target="_blank" rel="noopener noreferrer">antd menu</a>\u7EC4\u4EF6\u63D0\u4F9B\u7684\u652F\u6301</p></div><h2 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h2><p>\u5982\u679C\u4F60\u7684\u8DEF\u7531\u662F\u591A\u7EA7\u76EE\u5F55\uFF0C\u4E0D\u8981\u5FD8\u8BB0\u5728\u83DC\u5355\u90E8\u5206\u8BBE\u7F6Ecomponent: BlankView\uFF0C\u539F\u5219\u4E0A\u6709\u591A\u5C11\u7EA7\u8DEF\u7531\u5D4C\u5957\u5C31\u9700\u8981\u591A\u5C11\u4E2ABlankView\uFF08\u9664\u9876\u7EA7\u680F\u76EE\u548C\u9875\u9762\uFF09\u3002</p><div class="language-ts"><pre><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;\u680F\u76EE\u4E00&#39;</span>
    component<span class="token operator">:</span> <span class="token string">&#39;BasicLayout&#39;</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&#39;\u83DC\u5355\u4E00&#39;</span>
        component<span class="token operator">:</span> <span class="token string">&#39;BlankView&#39;</span>
        children<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&#39;\u83DC\u5355\u5D4C\u5957\u5C42\u4E00&#39;</span>
            component<span class="token operator">:</span> <span class="token string">&#39;BlankView&#39;</span>
            children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre></div><p><strong>component</strong><br> \u4E3ABasicLayout\u662F\u6846\u67B6\u4E3B\u4F53\u90E8\u5206\uFF0C\u680F\u76EE\u9700\u8BBE\u7F6E\uFF1B<br> \u4E3ABlankView\u662F\u89C6\u56FE\u7A97\u53E3\uFF0C\u83DC\u5355\u9700\u8BBE\u7F6E\u3002</p><p><a href="../imgs/nested.png"><img src="`+n+'" alt=""></a></p><h2 id="\u70B9\u51FB\u4FA7\u8FB9\u680F-\u5237\u65B0\u5F53\u524D\u8DEF\u7531" tabindex="-1">\u70B9\u51FB\u4FA7\u8FB9\u680F \u5237\u65B0\u5F53\u524D\u8DEF\u7531 <a class="header-anchor" href="#\u70B9\u51FB\u4FA7\u8FB9\u680F-\u5237\u65B0\u5F53\u524D\u8DEF\u7531" aria-hidden="true">#</a></h2><p>\u5728\u7528 spa(\u5355\u9875\u9762\u5E94\u7528) \u8FD9\u79CD\u5F00\u53D1\u6A21\u5F0F\u4E4B\u524D\uFF0C\u7528\u6237\u6BCF\u6B21\u70B9\u51FB\u4FA7\u8FB9\u680F\u90FD\u4F1A\u91CD\u65B0\u8BF7\u6C42\u8FD9\u4E2A\u9875\u9762\uFF0C\u7528\u6237\u6E10\u6E10\u517B\u6210\u4E86\u70B9\u51FB\u4FA7\u8FB9\u680F\u5F53\u524D\u8DEF\u7531\u6765\u5237\u65B0 view \u7684\u4E60\u60EF\u3002\u4F46\u73B0\u5728 spa \u5C31\u4E0D\u4E00\u6837\u4E86\uFF0C\u7528\u6237\u70B9\u51FB\u5F53\u524D\u9AD8\u4EAE\u7684\u8DEF\u7531\u5E76\u4E0D\u4F1A\u5237\u65B0 view\uFF0C\u56E0\u4E3A vue-router \u4F1A\u62E6\u622A\u4F60\u7684\u8DEF\u7531\uFF0C\u5B83\u5224\u65AD\u4F60\u7684 url \u5E76\u6CA1\u6709\u4EFB\u4F55\u53D8\u5316\uFF0C\u6240\u4EE5\u5B83\u4E0D\u4F1A\u89E6\u53D1\u4EFB\u4F55\u94A9\u5B50\u6216\u8005\u662F view \u7684\u53D8\u5316\u3002<a href="https://github.com/vuejs/vue-router/issues/296" target="_blank" rel="noopener noreferrer">issue\xA0()</a>\u5730\u5740\uFF0C\u793E\u533A\u4E5F\u5BF9\u8BE5\u95EE\u9898\u5C55\u5F00\u4E86\u6FC0\u70C8\u8BA8\u8BBA\u3002</p><p><a href="../imgs/ydd.png"><img src="'+o+`" alt=""></a></p><p>\u5C24\u5927\u672C\u6765\u4E5F\u8BF4\u8981\u589E\u52A0\u4E00\u4E2A\u65B9\u6CD5\u6765\u5F3A\u5237 view\uFF0C\u4F46\u540E\u6765\u4ED6\u53C8\u6539\u53D8\u4E86\u5FC3\u610F/(\u3112 o \u3112)/~~\u3002\u4F46\u9700\u6C42\u5C31\u6446\u5728\u8FD9\u91CC\uFF0C\u6211\u4EEC\u8BE5\u600E\u4E48\u529E\u5462\uFF1F\u4ED6\u8BF4\u4E86\u4E0D\u6539\u53D8 current URL \u5C31\u4E0D\u4F1A\u89E6\u53D1\u4EFB\u4F55\u4E1C\u897F\uFF0C\u90A3\u6211\u53EF\u4E0D\u53EF\u4EE5\u5F3A\u884C\u89E6\u53D1\u4F60\u7684 hook \u5462\uFF1F\u4E0A\u6709\u653F\u7B56\uFF0C \u4E0B\u6709\u5BF9\u7B56\u6211\u4EEC\u53D8\u7740\u82B1\u6765 hack\u3002\u65B9\u6CD5\u4E5F\u5F88\u7B80\u5355\uFF0C\u901A\u8FC7\u4E0D\u65AD\u6539\u53D8 url \u7684 query \u6765\u89E6\u53D1 view \u7684\u53D8\u5316\u3002\u6211\u4EEC\u76D1\u542C\u4FA7\u8FB9\u680F\u6BCF\u4E2A link \u7684 click \u4E8B\u4EF6\uFF0C\u6BCF\u6B21\u70B9\u51FB\u90FD\u7ED9 router push \u4E00\u4E2A\u4E0D\u4E00\u6837\u7684 query \u6765\u786E\u4FDD\u4F1A\u91CD\u65B0\u5237\u65B0 view\u3002</p><div class="tip custom-block"><p class="custom-block-title">\u6CE8\u610F</p><p>\u8FD9\u91CC\u53EA\u662F\u63D0\u4F9B\u7ED9\u5927\u5BB6\u4E00\u4E2A\u89E3\u51B3\u601D\u8DEF\uFF0C\u5B9E\u9645\u6846\u67B6\u5185\u70B9\u51FB\u4FA7\u8FB9\u680F\u662F\u6CA1\u6709\u6DFB\u52A0\u5237\u65B0\u529F\u80FD\u7684\u3002</p></div><div class="language-ts"><pre><code><span class="token function">clickLink</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    path<span class="token punctuation">,</span>
    query<span class="token operator">:</span> <span class="token punctuation">{</span>
      t<span class="token operator">:</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//\u4FDD\u8BC1\u6BCF\u6B21\u70B9\u51FB\u8DEF\u7531\u7684query\u9879\u90FD\u662F\u4E0D\u4E00\u6837\u7684\uFF0C\u786E\u4FDD\u4F1A\u91CD\u65B0\u5237\u65B0view</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>ps:\u4E0D\u8981\u5FD8\u4E86\u5728 router-view \u52A0\u4E0A\u4E00\u4E2A\u7279\u5B9A\u552F\u4E00\u7684 key\uFF0C\u5982\xA0<code>&lt;router-view :key=&quot;$route.path&quot;&gt;&lt;/router-view&gt;</code>\uFF0C \u4F46\u8FD9\u4E5F\u6709\u4E00\u4E2A\u5F0A\u7AEF\u5C31\u662F url \u540E\u9762\u6709\u4E00\u4E2A\u5F88\u96BE\u770B\u7684 query \u540E\u7F00\u5982 xxx/article/list?t=1496...\uFF0C\u5F53\u7136\u4F60\u53EF\u4EE5\u4ECE\u524D\u9762\u7684 issue \u4E2D\u77E5\u9053\u8FD8\u6709\u5F88\u591A\u5176\u5B83\u65B9\u6848\u3002</p><p><strong>\u76F8\u5173\u4F8B\u5B50</strong></p><p>\u8FD9\u91CC\u5728\u4ECB\u7ECD\u4E00\u79CD\u6BD4\u8F83\u63A8\u8350\u7684\u65B9\u6848\uFF08\u6765\u81EA<a href="https://github.com/PanJiaChen" target="_blank" rel="noopener noreferrer">\u6F58\u5927\u795E</a>\uFF09\uFF0C\u73B0\u5728\u91C7\u53D6\u7684\u65B9\u6848\u662F\u5224\u65AD\u5F53\u524D\u70B9\u51FB\u7684\u83DC\u5355\u8DEF\u7531\u548C\u5F53\u524D\u7684\u8DEF\u7531\u662F\u5426\u4E00\u81F4\uFF0C\u82E5\u4E00\u81F4\u7684\u65F6\u5019\uFF0C\u4F1A\u5148\u8DF3\u8F6C\u5230\u4E00\u4E2A\u4E13\u95E8 Redirect \u7684\u9875\u9762\uFF0C\u5B83\u4F1A\u5C06\u8DEF\u7531\u91CD\u5B9A\u5411\u5230\u6211\u60F3\u53BB\u7684\u9875\u9762\uFF0C\u8FD9\u6837\u5C31\u8D77\u5230\u4E86\u5237\u65B0\u7684\u6548\u679C\u4E86\u3002</p><p>1\u3001\u70B9\u51FB\u7684\u65F6\u5019\u91CD\u5B9A\u5411\u9875\u9762\u81F3\xA0<code>/redirect</code></p><div class="language-ts"><pre><code><span class="token keyword">const</span> <span class="token punctuation">{</span> fullPath <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">&#39;/redirect&#39;</span> <span class="token operator">+</span> fullPath
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><p>2\u3001<code>redirect</code>\xA0\u9875\u9762\u5728\u91CD\u5B9A\u5411\u56DE\u539F\u59CB\u9875\u9762</p><div class="language-ts"><pre><code><span class="token comment">// redirect.vue</span>
<span class="token comment">// https://github.com/PanJiaChen/vue-element-admin/blob/master/src/views/redirect/index.vue</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> params<span class="token punctuation">,</span> query <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route
    <span class="token keyword">const</span> <span class="token punctuation">{</span> path <span class="token punctuation">}</span> <span class="token operator">=</span> params
    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">+</span> path<span class="token punctuation">,</span> query <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// avoid warning message</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="\u9762\u5305\u5C51\uFF08\u5FEB\u6377\u5BFC\u822A\u680F\uFF09" tabindex="-1">\u9762\u5305\u5C51\uFF08\u5FEB\u6377\u5BFC\u822A\u680F\uFF09 <a class="header-anchor" href="#\u9762\u5305\u5C51\uFF08\u5FEB\u6377\u5BFC\u822A\u680F\uFF09" aria-hidden="true">#</a></h2><p>\u672C\u9879\u76EE\u4E2D\u7684tab\u5207\u6362\u680F\u5145\u5F53\u9762\u5305\u5C51\u7684\uFF0C\u5982\u679C\u9700\u8981\u4F20\u7EDF\u7684\u9762\u5305\u5C51\u6269\u5C55\u4E00\u4E0B\u5373\u53EF\uFF0C\u6838\u5FC3\u4EE3\u7801\u662F\u56F4\u7ED5<code>route.matched</code>\u8FDB\u884C\u7684</p><p><a href="../imgs/crumbs.png"><img src="`+c+'" alt=""></a></p><p>\u901A\u8FC7\u76D1\u542C\u8DEF\u7531\u53D8\u5316\uFF08<code>watch $route</code>\uFF09vuex\u52A8\u6001\u7F13\u5B58\u65B0\u8BBF\u95EE\u7684\u8DEF\u7531\uFF0C\u5728template\u5185\u5FAA\u73AF\u8BFB\u53D6vuex\u7F13\u5B58\u7684\u6570\u636E\uFF0C\u6765\u5C55\u793A\u51FA\u5386\u53F2\u8BBF\u95EE\u9762\u5305\u5C51\u3002\u5728\xA0<code>menu.vue</code>\xA0\u4F60\u53EF\u4EE5\u53C2\u7167\xA0<code>route.matched</code>\xA0\u76F8\u5173\u4EE3\u7801\u6DFB\u52A0\u5F53\u524D\u8BBF\u95EE\u9762\u5305\u5C51\u3002</p><p><a href="../imgs/breadCrumbs.jpg"><img src="'+l+`" alt=""></a></p><p>\u5386\u53F2\u9762\u5305\u5C51\u70B9\u51FB\u76F8\u5E94\u7684 tabItem \u53EF\u4EE5\u5207\u6362\u5230\u70B9\u51FB\u7684\u8DEF\u7531\uFF0C\u53F3\u51FB tabItem \u53EF\u4EE5\u6253\u5F00\u64CD\u4F5C\u83DC\u5355\uFF0C\u5728\u83DC\u5355\u4E2D\u53EF\u4EE5\u8FDB\u884C\u5173\u95ED\u7684\u76F8\u5173\u64CD\u4F5C\u3002</p><h2 id="\u4FA7\u8FB9\u680F\u6EDA\u52A8\u95EE\u9898" tabindex="-1">\u4FA7\u8FB9\u680F\u6EDA\u52A8\u95EE\u9898 <a class="header-anchor" href="#\u4FA7\u8FB9\u680F\u6EDA\u52A8\u95EE\u9898" aria-hidden="true">#</a></h2><p>\u73B0\u5728\u8BB8\u591A\u524D\u7AEF\u6846\u67B6\u5BB9\u6613\u5FFD\u7565\u7684\u4E00\u4E2A\u95EE\u9898\uFF0C\u5C31\u662F\u83DC\u5355\u8FC7\u591A\u8D85\u51FA\u9884\u8BBE\xA0<code>100vh</code>\xA0\u7684\u65F6\u5019\uFF0C\u53EA\u662F\u9690\u85CF\u4E0D\u663E\u793A\u6CA1\u6709\u8FDB\u884C\u6EDA\u52A8\u3002\u8BE5\u6846\u67B6\u8FDB\u884C\u4E86css\u65B9\u9762\u7684\u4F18\u5316\u5904\u7406\uFF0C\u5F88\u597D\u7684\u89C4\u907F\u4E86\u8FD9\u79CD\u95EE\u9898\uFF0C\u5E76\u6709\u7F8E\u5316\u4E86\u6EDA\u52A8\u6761\u4F7F\u4ED6\u4E0D\u5728\u662F\u96BE\u770B\u7684\u539F\u751F\u6EDA\u52A8\u6761\u3002</p><div class="language-css"><pre><code><span class="token selector">.layout</span> <span class="token punctuation">{</span>
  <span class="token selector">&amp; .ant-layout-sider-children</span> <span class="token punctuation">{</span>
    <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
    <span class="token property">overflow-x</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&amp; .ant-layout-sider-children::-webkit-scrollbar</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&amp; .ant-layout-sider-children::-webkit-scrollbar-thumb</span> <span class="token punctuation">{</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> inset 0 0 5px #d8d8d8<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #535353<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&amp; .ant-layout-sider-children::-webkit-scrollbar-track</span> <span class="token punctuation">{</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> inset 0 0 5px #d8d8d8<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #ededed<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="\u4FA7\u8FB9\u680F\u9ED8\u8BA4\u5C55\u5F00" tabindex="-1">\u4FA7\u8FB9\u680F\u9ED8\u8BA4\u5C55\u5F00 <a class="header-anchor" href="#\u4FA7\u8FB9\u680F\u9ED8\u8BA4\u5C55\u5F00" aria-hidden="true">#</a></h2><p>\u67D0\u4E9B\u573A\u666F\u4E0B\uFF0C\u7528\u6237\u9700\u8981\u9ED8\u8BA4\u5C55\u5F00\u4FA7\u8FB9\u680F\u7684\u67D0\u4E9Bsub-menu\uFF0C\u5982\u4E0B\u56FE\uFF1A</p><p><a href="../imgs/nested.png"><img src="`+n+`" alt=""></a></p><p>\u53EF\u4EE5\u901A\u8FC7\u521D\u59CB\u5316\u8BBE\u7F6E a-menu \u7684 openKeys \u6765\u8FBE\u5230\u76EE\u7684\uFF0C\u9996\u5148\u627E\u5230\u4FA7\u8FB9\u680F\u4EE3\u7801(src/layout/menu)</p><div class="language-ts"><pre><code><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> openKeys <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>\u5177\u4F53\u7684\u903B\u8F91\u4EE3\u7801\u4F60\u53EF\u4EE5\u6839\u636E\u5177\u4F53\u7684\u4E1A\u52A1\u9700\u6C42\u7F16\u5199\u3002</p>`,63),i=[u];function k(d,m,h,g,b,v){return t(),a("div",null,i)}var w=s(r,[["render",k]]);export{f as __pageData,w as default};
