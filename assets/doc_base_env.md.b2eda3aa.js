import{_ as e,c as a,o as n,a as s}from"./app.263436ba.js";const u='{"title":"\u73AF\u5883\u53D8\u91CF","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u6784\u5EFA\u76F8\u5173","slug":"\u6784\u5EFA\u76F8\u5173"}],"relativePath":"doc/base/env.md"}',t={},o=s(`<h1 id="\u73AF\u5883\u53D8\u91CF" tabindex="-1">\u73AF\u5883\u53D8\u91CF <a class="header-anchor" href="#\u73AF\u5883\u53D8\u91CF" aria-hidden="true">#</a></h1><p>vue3-antd-admin \u662F\u57FA\u4E8E\xA0<code>vite</code>\xA0\u6765\u8FDB\u884C\u6784\u5EFA\u7684\uFF0C\u6240\u6709\u7684\u73AF\u5883\u53D8\u91CF\u914D\u7F6E\u90FD\u662F\u57FA\u7840vite\u6765\u5B9E\u73B0\u548C\u63A7\u5236\u7684\u3002 <a href="https://vitejs.cn/guide/env-and-mode.html" target="_blank" rel="noopener noreferrer">\u5B98\u65B9\u6587\u6863</a></p><div class="language-shell"><pre><code>.env                <span class="token comment"># \u6240\u6709\u60C5\u51B5\u4E0B\u90FD\u4F1A\u52A0\u8F7D</span>
.env.local          <span class="token comment"># \u6240\u6709\u60C5\u51B5\u4E0B\u90FD\u4F1A\u52A0\u8F7D\uFF0C\u4F46\u4F1A\u88AB git \u5FFD\u7565</span>
.env.<span class="token punctuation">[</span>mode<span class="token punctuation">]</span>         <span class="token comment"># \u53EA\u5728\u6307\u5B9A\u6A21\u5F0F\u4E0B\u52A0\u8F7D</span>
.env.<span class="token punctuation">[</span>mode<span class="token punctuation">]</span>.local   <span class="token comment"># \u53EA\u5728\u6307\u5B9A\u6A21\u5F0F\u4E0B\u52A0\u8F7D\uFF0C\u4F46\u4F1A\u88AB git \u5FFD\u7565</span>
</code></pre></div><p>\u52A0\u8F7D\u7684\u73AF\u5883\u53D8\u91CF\u4E5F\u4F1A\u901A\u8FC7 import.<wbr>meta.env \u66B4\u9732\u7ED9\u5BA2\u6237\u7AEF\u6E90\u7801\u3002</p><p>\u4E3A\u4E86\u9632\u6B62\u610F\u5916\u5730\u5C06\u4E00\u4E9B\u73AF\u5883\u53D8\u91CF\u6CC4\u6F0F\u5230\u5BA2\u6237\u7AEF\uFF0C\u53EA\u6709\u4EE5 VITE_ \u4E3A\u524D\u7F00\u7684\u53D8\u91CF\u624D\u4F1A\u66B4\u9732\u7ED9\u7ECF\u8FC7 vite \u5904\u7406\u7684\u4EE3\u7801\u3002\u4F8B\u5982\u4E0B\u9762\u8FD9\u4E2A\u6587\u4EF6\u4E2D\uFF1A</p><div class="language-shell"><pre><code><span class="token assign-left variable">DB_PASSWORD</span><span class="token operator">=</span>foobar
<span class="token assign-left variable">VITE_SOME_KEY</span><span class="token operator">=</span><span class="token number">123</span>
</code></pre></div><h2 id="\u6784\u5EFA\u76F8\u5173" tabindex="-1">\u6784\u5EFA\u76F8\u5173 <a class="header-anchor" href="#\u6784\u5EFA\u76F8\u5173" aria-hidden="true">#</a></h2><p>\u9664\u4E86\u4E00\u4E9B\u5199\u5728.env\u7684\u73AF\u5883\u53D8\u91CF\u4E4B\u5916\uFF0C\u8FD8\u6709\u4E00\u4E9B\u6784\u5EFA\u548C\u90E8\u7F72\u76F8\u5173\u7684\u53D8\u91CF\u90FD\u662F\u9700\u8981\u5728vite.config.js\u4E2D\u914D\u7F6E\u7684\u3002</p><p>\u4F60\u53EF\u4EE5\u901A\u8FC7\xA0<code>import.<wbr>meta.env.MODE</code>\xA0\u6765\u6267\u884C\u5224\u65AD\u73AF\u5883\uFF0C\u6765\u8BBE\u7F6E\u4E0D\u540C\u7684\u53C2\u6570\u3002</p><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5F00\u53D1\u670D\u52A1\u5668 (dev \u547D\u4EE4) \u8FD0\u884C\u5728 development (\u5F00\u53D1) \u6A21\u5F0F\uFF0C\u800C build \u4EE5\u53CA serve \u547D\u4EE4\u5219\u8FD0\u884C\u5728 production (\u751F\u4EA7) \u6A21\u5F0F\u3002</p><p>\u4F60\u53EF\u80FD\u5E0C\u671B\u6709\u4E00\u4E2A \u201Cstaging\u201D (\u9884\u53D1\u5E03|\u9884\u4E0A\u7EBF) \u6A21\u5F0F\uFF0C\u5B83\u5E94\u8BE5\u5177\u6709\u7C7B\u4F3C\u4E8E\u751F\u4EA7\u7684\u884C\u4E3A\uFF0C\u4F46\u73AF\u5883\u53D8\u91CF\u4E0E\u751F\u4EA7\u73AF\u5883\u7565\u6709\u4E0D\u540C\u3002 \u4F60\u53EF\u4EE5\u901A\u8FC7\u4F20\u9012 --mode \u9009\u9879\u6807\u5FD7\u6765\u8986\u76D6\u547D\u4EE4\u4F7F\u7528\u7684\u9ED8\u8BA4\u6A21\u5F0F\u3002\u4F8B\u5982\uFF0C\u5982\u679C\u4F60\u60F3\u4E3A\u6211\u4EEC\u5047\u8BBE\u7684 staging \u6A21\u5F0F\u6784\u5EFA\u5E94\u7528\uFF1A</p><div class="language-shell"><pre><code>vite build --mode staging
</code></pre></div><p>\u4E3A\u4E86\u4F7F\u5E94\u7528\u5B9E\u73B0\u9884\u671F\u884C\u4E3A\uFF0C\u6211\u4EEC\u8FD8\u9700\u8981\u4E00\u4E2A\xA0<code>.env.staging</code>\xA0\u6587\u4EF6\uFF1A</p><div class="language-shell"><pre><code><span class="token comment"># .env.staging</span>
<span class="token assign-left variable">NODE_ENV</span><span class="token operator">=</span>production
<span class="token assign-left variable">VITE_APP_TITLE</span><span class="token operator">=</span>My App <span class="token punctuation">(</span>staging<span class="token punctuation">)</span>
</code></pre></div><p>\u73B0\u5728\uFF0C\u4F60\u7684 staging \u5E94\u7528\u5E94\u8BE5\u5177\u6709\u7C7B\u4F3C\u4E8E\u751F\u4EA7\u7684\u884C\u4E3A\uFF0C\u4F46\u663E\u793A\u7684\u6807\u9898\u4E0E\u751F\u4EA7\u73AF\u5883\u4E0D\u540C\u3002</p>`,15),p=[o];function c(l,i,r,d,v,_){return n(),a("div",null,p)}var m=e(t,[["render",c]]);export{u as __pageData,m as default};
